<!DOCTYPE html>
<html>
  <head>
    <style>
      #pix_container {
	  border: 1px solid #000000;
	  height: 100%;
      }

      #pix {
	  margin: 50px;
	  padding: 20px;
	  border: 1px solid #000000;
      }
    </style>
  </head>

  <body onload="init()">
    <div id="pix_container">
      <canvas id="pix"></canvas>
    </div>

    <script src="https://docs.opencv.org/master/opencv.js" type="text/javascript"></script>
    <script>
      function binary_image () {
	  let n = 256;

	  let cvs = document.querySelector('#pix');
	  let ctx = cvs.getContext('2d');

	  let pixel_data = new Uint8Array(n*n);

	  for (let i = 0; i < n*n; i += 4) {
	      let val = Math.random() < 0.5 ? 0 : 255
	      pixel_data[i] = val;
	      pixel_data[i+1] = val;
	      pixel_data[i+2] = val;
	      pixel_data[i+3] = 1;	      
	  }

	  try
	  {
	      var pixel_pic = cv.matFromArray(n, n, cv.CV_8U, pixel_data);
	  }
	  catch (error)
	  {
	      console.log(error);
	      return;
	  }

	  cv.imshow(cvs, pixel_pic);
      }

      function build_BA() {
	  let n = 8;
	  let cvs = document.querySelector('#pix');
	  let ctx = cvs.getContext('2d');

	  let pixel_data = Uint8Array.from([0,0,0,1,
					    255,255,255,1,
					    0,0,0,1,
					    0,0,0,1]);

	  let B = cv.matFromArray(2, 2, cv.CV_8U, pixel_data);
	  
	  for (let i = 0; i < n; i++) {
	      let concat_matv = new cv.MatVector();
	      concat_matv.push_back(concat_matv);
	      concat_matv.push_back()
	  }
      }
      
      function init() {
	  //setInterval(binary_image, 100);

	  
      }
      
    </script>
  </body>
</html>
